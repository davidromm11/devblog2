<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {% seo %}

  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet"
  />

  <!-- Main stylesheet -->
  <link
    rel="stylesheet"
    href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
  />

  <!-- Favicon -->
  <link
    rel="icon"
    type="image/x-icon"
    href="{{ '/favicon.ico' | relative_url }}"
  />
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="{{ '/apple-touch-icon.png' | relative_url }}"
  />

  <!-- RSS Feed -->
  {% feed_meta %}

  <!-- Open Graph / Facebook -->
  <meta
    property="og:type"
    content="{% if page.date %}article{% else %}website{% endif %}"
  />
  <meta
    property="og:title"
    content="{% if page.title %}{{ page.title | escape }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}"
  />
  <meta
    property="og:description"
    content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}"
  />
  <meta property="og:url" content="{{ page.url | absolute_url }}" />
  <meta property="og:site_name" content="{{ site.title }}" />
  {% if page.image %}
  <meta property="og:image" content="{{ page.image | absolute_url }}" />
  {% endif %}

  <!-- Twitter Card -->
  <meta
    name="twitter:card"
    content="summary{% if page.image %}_large_image{% endif %}"
  />
  {% if site.twitter.username %}
  <meta name="twitter:site" content="@{{ site.twitter.username }}" />
  {% endif %}
  <meta
    name="twitter:title"
    content="{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title }}{% endif %}"
  />
  <meta
    name="twitter:description"
    content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}"
  />
  {% if page.image %}
  <meta name="twitter:image" content="{{ page.image | absolute_url }}" />
  {% endif %}

  <!-- Theme Color -->
  <meta name="theme-color" content="#1e1e2e" />
  <meta name="msapplication-TileColor" content="#1e1e2e" />

  <!-- Canonical URL -->
  <link
    rel="canonical"
    href="{{ page.url | replace:'index.html','' | absolute_url }}"
  />

  <!-- JSON-LD structured data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{% if page.date %}BlogPosting{% else %}WebSite{% endif %}",
      "headline": "{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title }}{% endif %}",
      "description": "{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}",
      "url": "{{ page.url | absolute_url }}",
      {% if page.date %}"datePublished": "{{ page.date | date_to_xmlschema }}",
      "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
      "author": {
        "@type": "Person",
        "name": "{{ site.author.name | default: site.title }}"
      },{% endif %}
      "publisher": {
        "@type": "Organization",
        "name": "{{ site.title }}",
        "url": "{{ site.url }}"
      }
    }
  </script>

  <!-- Page-specific styles -->
  {% if page.custom_css %} {% for stylesheet in page.custom_css %}
  <link
    rel="stylesheet"
    href="{{ site.baseurl }}/assets/css/{{ stylesheet }}.css"
  />
  {% endfor %} {% endif %}

  <!-- Page-specific head content -->
  {% if page.head %} {{ page.head }} {% endif %}
</head>
